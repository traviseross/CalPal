# CalPal Environment Configuration
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env file to git!

# ============================================================================
# REQUIRED CONFIGURATION
# These MUST be set for CalPal to function
# ============================================================================

# Database connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/calpal

# Work calendar (your institutional email/calendar)
WORK_CALENDAR_ID=work@institution.edu

# Personal calendar (your personal Google calendar)
PERSONAL_CALENDAR_ID=personal@gmail.com

# 25Live institution identifier (check your 25Live URL)
TWENTYFIVE_LIVE_INSTITUTION=your_institution

# ============================================================================
# OPTIONAL CONFIGURATION
# These have sensible defaults but can be customized
# ============================================================================

# Google Calendar IDs (obtain from Google Calendar settings)
FAMILY_CALENDAR_ID=family-calendar-hash@group.calendar.google.com
CLASSES_CALENDAR_ID=classes-calendar-hash@group.calendar.google.com
GFU_EVENTS_CALENDAR_ID=events-calendar-hash@group.calendar.google.com
APPOINTMENTS_CALENDAR_ID=appointments-calendar-hash@group.calendar.google.com

# Public domain and ICS URL configuration
PUBLIC_DOMAIN=example.com
PUBLIC_ICS_URL=https://example.com/secure-path/schedule.ics

# Security settings
# Generate secure random tokens with: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECURE_ENDPOINT_PATH=your-secure-random-path-here
ACCESS_TOKEN=your-secure-access-token-here

# Flask server configuration
FLASK_HOST=0.0.0.0
FLASK_PORT=5001

# File paths
ICS_FILE_PATH=./private/schedule.ics
CALPAL_CONFIG_DIR=~/.config/calpal

# 25Live API configuration
TWENTYFIVE_LIVE_BASE_URL=https://25live.collegenet.com

# Sync settings (in days)
SYNC_LOOKBACK_DAYS=30
SYNC_LOOKAHEAD_DAYS=365

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. Copy this file:
#    cp .env.example .env

# 2. Generate secure tokens:
#    python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#    (Run twice - once for SECURE_ENDPOINT_PATH, once for ACCESS_TOKEN)

# 3. Fill in your actual values in .env file

# 4. Ensure .env is in .gitignore (it should be by default)

# 5. Place credentials in ~/.config/calpal/:
#    - service-account-key.json (Google service account credentials)
#    - 25live_credentials (25Live username and password, one per line)

# 6. Create required directories:
#    mkdir -p ~/.config/calpal
#    mkdir -p data private logs metadata

# 7. Test your configuration:
#    python3 src/db_manager.py
#    (Should connect to database successfully)
